<body style="width:100%; min-width:100%; height:100%; min-height:100%; padding:0; margin:0;">
<script src="ges-graphics/math/math-utils.js"></script>
<script src="ges-graphics/math/vector.js"></script>
<script src="ges-graphics/rendering/index.js"></script>

<script src="behavior/behavior.js"></script>
<script src="behavior/behavior-system.js"></script>

<script src="src/screens/main.js"></script>

<script>
	'use strict';

	let canvas = document.createElement('canvas');
	canvas.setAttribute('style', 'width:100%; min-width:100%; height:100%; min-height:100%;');
	document.body.appendChild(canvas);
	canvas.width = canvas.clientWidth;
	canvas.height = canvas.clientHeight;

	let context = canvas.getContext('2d');

	let doRender = function() {};
	let screen = MainScreen(function(render) {
		doRender = render;
	});

	let lastTime = performance.now();
	requestAnimationFrame(function render() {
		let time = performance.now();
		let dt = (time - lastTime) * 0.001;
		lastTime = time;

		screen({ type: 'update', dt: dt });

		doRender(context);

		requestAnimationFrame(render);
	});

	window.addEventListener('resize', function(event) {
		canvas.width = canvas.clientWidth;
		canvas.height = canvas.clientHeight;
	});
</script>
</body>
